# BRC-20 Swap 模块余额退还方案

## 概要

为推进 Bitcoin 主网上基于 BRC-20 Module 的 Swap 模块的关闭，本提案旨在将所有已充值至该模块的资产退还给用户。以下描述一种简洁可行的实施方案。

## 动机

Bitcoin 主网上的 BRC-20 Swap 模块因未达成广泛的协议共识，且长期未提供用户交互，已不再产生实际价值。为保障现有用户的权益，使其能够顺利退出并取回资产，合理的做法是在协议层面关闭该模块并执行资产退还。此举对模块用户公平，且不会损害 BRC-20 整体生态的利益。

## 方法

待退还的资产总额已由现有 BRC-20 索引完整记录，即存储于模块相关 OP_RETURN 地址中。我们将在特定区块高度开始处理任何 BRC-20 事件之前，一次性将该模块地址下所有 BRC-20 资产余额转移至模块部署者地址。此过程将生成多条资产转移记录，这些转移与铭文无关，仅与区块高度或 Coinbase 交易关联。

退还完成后，模块地址下所有代币余额将归零。此后若再向该地址转入 BRC-20 资产，将不会自动触发退还流程。
模块部署者将负责后续向用户手动分发具体资产。

## 索引实现

现有索引无需执行任何 Swap 模块逻辑即可支持退还流程。
模块地址中 OP_RETURN 后的内容为部署交易 ID 的字节逆序，任何人可通过查询部署交易验证部署者地址。该验证过程无需在索引代码中实现，仅需硬编码相关地址。

* Bitcoin 主网

在区块高度 **932888** 开始处理任何 BRC-20 事件前，首先将地址
`6a208cbc2ac9896cac98d304aa42f43b98208ce8ae31c25e48d84ee852834a1a8066`
上的全部 23 种 BRC-20 资产转移至模块部署者地址：
`bc1qrj03km5h9ag24cpynyn3l5tvny9cyd0x0le42u` 。

* Bitcoin Signet

在区块高度 **283888** 开始处理任何 BRC-20 事件前，首先将地址
`6a2031152ea2364a6dbaab9013be8d656a34256d7e89f0c30714bbb04a9d85e63e5b`
上的全部 4 种 BRC-20 资产转移至模块部署者地址：
`tb1qkrewl9zclku2qngth52eezdyrwmjpcspttdypa` 。

# 参考

BRC-20 协议
BRC-20 Module 提案
